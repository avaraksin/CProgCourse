@page "/"

@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage

@namespace Logist.Pages

@inject Logist.Data.LogFolder.CommonLoger _loger
@inject IHttpContextAccessor? _contextAccessor

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
    string? ClientIP = _contextAccessor?.HttpContext?.Connection?.RemoteIpAddress?.ToString();
    
    await _loger.GetUser(ClientIP ?? "");
}

<component type="typeof(App)" render-mode="Server" />
